<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Brentley Thomason • CS 499 ePortfolio</title>
  <meta name="description" content="Professional ePortfolio for SNHU CS 499: code review, artifacts, enhancements, and self-assessment." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🎓</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0b1020;
      --panel: #121936;
      --text: #e8ecf1;
      --muted: #b7c0d1;
      --brand: #5ee1ff;
      --brand-2: #8fffac;
      --ring: rgba(94,225,255,.35);
      --shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    :root.light {
      --bg: #f7f9fc;
      --panel: #ffffff;
      --text: #111827;
      --muted: #4b5563;
      --brand: #2563eb;
      --brand-2: #16a34a;
      --ring: rgba(37,99,235,.2);
      --shadow: 0 10px 30px rgba(2,8,23,.08);
    }
    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 700px at 10% -10%, rgba(94,225,255,.08), transparent),
                  radial-gradient(1000px 600px at 110% 10%, rgba(143,255,172,.08), transparent),
                  var(--bg);
      color: var(--text);
      line-height: 1.6;
    }
    a { color: var(--brand); text-decoration: none; }
    a:hover { text-decoration: underline; }
    .container { width: min(1200px, 92vw); margin: 0 auto; }
    .btn { display:inline-flex; align-items:center; gap:.6rem; padding:.8rem 1.1rem; border-radius:999px; font-weight:600; border:1px solid transparent; background: var(--brand); color: white; box-shadow: var(--shadow); }
    .btn.secondary { background: transparent; color: var(--text); border-color: rgba(255,255,255,.15); }
    .btn:hover { filter: brightness(1.05); text-decoration: none; }
    .badge { display:inline-block; padding:.25rem .6rem; border-radius:999px; font-size:.8rem; border:1px solid rgba(255,255,255,.2); color: var(--muted); }
    header.nav {
      position: sticky; top: 0; z-index: 50; backdrop-filter: blur(8px);
      background: color-mix(in hsl, var(--bg) 70%, transparent);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }
    .nav-inner { display:flex; align-items:center; justify-content:space-between; padding: .9rem 0; }
    .brand { display:flex; align-items:center; gap:.75rem; font-weight:800; letter-spacing:.3px; }
    .brand .dot { width:.75rem; height:.75rem; border-radius:999px; background:linear-gradient(135deg,var(--brand),var(--brand-2)); box-shadow: 0 0 0 6px var(--ring); }
    nav a { margin: 0 .6rem; color: var(--muted); font-weight:600; }
    nav a.active, nav a:hover { color: var(--text); }
    .theme-toggle { cursor:pointer; border:1px solid rgba(255,255,255,.15); border-radius:999px; padding:.45rem .7rem; color: var(--muted); background: transparent; }

    .hero { padding: 5rem 0 3rem; display:grid; grid-template-columns: 1.1fr .9fr; gap: 2rem; align-items: center; }
    .hero h1 { font-size: clamp(2.2rem, 4vw, 3rem); line-height:1.15; margin:.25rem 0 .5rem; }
    .kicker { color: var(--brand); font-weight: 700; letter-spacing:.2px; text-transform: uppercase; font-size:.85rem; }
    .hero p { color: var(--muted); font-size: 1.05rem; }
    .hero-card { background: linear-gradient(180deg, color-mix(in hsl, var(--panel) 85%, transparent), var(--panel)); border: 1px solid rgba(255,255,255,.08); border-radius: 20px; padding: 1.1rem; box-shadow: var(--shadow); }
    .grid { display:grid; gap: 1.25rem; }

    section { padding: 3rem 0; }
    .section-title { display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom: 1.25rem; }
    .section-title h2 { margin: 0; font-size: 1.6rem; }
    .card { background: var(--panel); border:1px solid rgba(255,255,255,.08); border-radius: 16px; padding: 1.1rem; box-shadow: var(--shadow); }
    .card h3 { margin-top: .2rem; }

    .filters { display:flex; gap:.6rem; flex-wrap:wrap; }
    .filters .chip { cursor:pointer; padding:.35rem .8rem; border-radius:999px; border:1px solid rgba(255,255,255,.2); color: var(--muted); background: transparent; font-weight:600; }
    .filters .chip.active { color: white; border-color: var(--brand); background: color-mix(in hsl, var(--brand) 20%, transparent); }
    .artifacts { display:grid; grid-template-columns: repeat(12, 1fr); gap: 1rem; }
    .artifact { grid-column: span 12; display:grid; grid-template-columns: 1.1fr .9fr; gap: 1rem; align-items:start; }
    .artifact img { width:100%; height:auto; border-radius: 12px; border:1px solid rgba(255,255,255,.08); display:block; }
    .artifact .links { display:flex; gap:.6rem; flex-wrap:wrap; }
    @media (max-width: 920px) {
      .hero { grid-template-columns: 1fr; }
      .artifact { grid-template-columns: 1fr; }
    }

    .timeline { position: relative; padding-left: 1.5rem; }
    .timeline::before { content:""; position:absolute; left:.55rem; top:.3rem; bottom:.3rem; width:2px; background: linear-gradient(var(--brand), var(--brand-2)); border-radius:2px; }
    .tl-item { position:relative; margin-bottom:1rem; }
    .tl-item::before { content:""; position:absolute; left:-.15rem; top:.35rem; width:.9rem; height:.9rem; background: var(--panel); border:2px solid var(--brand); border-radius:999px; }

    footer { padding: 2.5rem 0 4rem; color: var(--muted); }
    .footer-grid { display:grid; grid-template-columns: 1fr 1fr; gap: 1rem; align-items:center; }
    @media (max-width: 720px) { .footer-grid { grid-template-columns: 1fr; text-align:center; } }

    /* Thumbnail hover */
    .artifact .thumb-wrap {
      position: relative;
      overflow: hidden;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.08);
    }
    .artifact .thumb {
      display: block;
      line-height: 0;
    }
    .artifact .thumb img {
      width: 100%;
      height: auto;
      display: block;
      transform: scale(1);
      transition: transform .25s ease;
    }
    .artifact .thumb:hover img,
    .artifact .thumb:focus img {
      transform: scale(1.03);
    }
    .artifact .thumb .caption {
      position: absolute;
      left: 0; right: 0; bottom: 0;
      padding: .5rem .75rem;
      font-size: .9rem;
      color: white;
      background: linear-gradient(to top, rgba(0,0,0,.45), rgba(0,0,0,0));
      opacity: 0;
      transition: opacity .2s ease;
    }
    .artifact .thumb:hover .caption,
    .artifact .thumb:focus .caption {
      opacity: 1;
    }

    /* Lightbox */
    #lightbox {
      position: fixed; inset: 0;
      background: rgba(0,0,0,.8);
      display: none;
      align-items: center; justify-content: center;
      z-index: 1000;
    }
    #lightbox.open { display: flex; }
    #lightbox .content {
      max-width: min(95vw, 1100px);
      max-height: 88vh;
      position: relative;
    }
    #lightbox img {
      width: 100%; height: auto; display: block;
      border-radius: 12px;
    }
    #lightbox .lb-caption {
      margin-top: .5rem; color: #e8ecf1; text-align: center;
      font-size: .95rem;
    }
    #lightbox .lb-close {
      position: absolute; top: .5rem; right: .5rem;
      background: rgba(0,0,0,.55);
      color: #fff; border: 1px solid rgba(255,255,255,.2);
      border-radius: 10px; padding: .35rem .6rem; cursor: pointer;
    }

    .sr-only { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
    .muted { color: var(--muted); }
    .row { display:flex; gap:.75rem; flex-wrap: wrap; }
    .kbd { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size:.85rem; padding:.1rem .4rem; border-radius:6px; border:1px solid rgba(255,255,255,.2); color: var(--muted); }
    
    .card.timeline { padding-left: 0; }
    .card.timeline::before,
    .card.timeline .tl-item::before { display: none; }

  </style>
</head>
<body>
  <!-- ===== NAV ===== -->
  <header class="nav">
    <div class="container nav-inner">
      <div class="brand" aria-label="Site Home">
        <span class="dot" aria-hidden="true"></span>
        <a href="#top" style="color:inherit; text-decoration:none;">Brentley Thomason</a>
      </div>
      <nav aria-label="Primary">
        <a href="#self">Self-Assessment</a>
        <a href="#artifacts">Artifacts</a>
        <a href="#code-review">Code Review</a>
        <a href="#narratives">Narratives</a>
        <a href="#milestones">Milestones</a>
        <a href="#contact">Contact</a>
      </nav>
      <button class="theme-toggle" id="themeToggle" aria-pressed="false" aria-label="Toggle theme">🌙</button>
    </div>
  </header>

  <!-- ===== HERO ===== -->
  <div id="top" class="container hero">
    <div>
      <div class="kicker">SNHU CS 499 • ePortfolio</div>
      <h1>Solutions Architect specializing in advanced OpenGL visualization and high-performance graphics systems.</h1>
      <p class="muted">
        This portfolio showcases original and enhanced artifacts across software design & engineering,
        algorithms & data structures, and data persistence—centered on a single OpenGL visualization project.
        Focus areas: full-stack application development, computational graphics, and real-time rendering with OpenGL.
      </p>
      <div class="row" style="margin-top:1rem;">
        <a class="btn" href="./resume.pdf" target="_blank" rel="noopener">View Résumé</a>
        <a class="btn secondary" href="https://github.com/thomasonbd2/OpenGL-Project" target="_blank" rel="noopener">View Repository</a>
      </div>
      <div class="row" style="margin-top:.75rem;">
        <span class="badge">Software Design & Engineering</span>
        <span class="badge">Algorithms & Data Structures</span>
        <span class="badge">Data Persistence (JSON)</span>
        <span class="badge">Security</span>
      </div>
    </div>

    <aside class="hero-card">
      <div class="grid" style="grid-template-columns: 1fr 1fr;">
        <div class="card">
          <div class="muted">Outcome</div>
          <h3>Communicate professionally</h3>
          <p class="muted">Clear, audience-aware writing and visuals. See the self-assessment for concrete examples.</p>
        </div>
        <div class="card">
          <div class="muted">Outcome</div>
          <h3>Design trade-offs</h3>
          <p class="muted">Evaluate alternatives and justify choices in enhancements and narratives.</p>
        </div>
        <div class="card">
          <div class="muted">Outcome</div>
          <h3>Innovative techniques</h3>
          <p class="muted">Use modern tools and patterns to deliver value aligned to industry goals.</p>
        </div>
        <div class="card">
          <div class="muted">Outcome</div>
          <h3>Security mindset</h3>
          <p class="muted">Identify risks, mitigate flaws, and protect data and resources throughout.</p>
        </div>
      </div>
    </aside>
  </div>

  <!-- ===== SELF-ASSESSMENT ===== -->
  <section id="self">
    <div class="container">
      <div class="section-title">
        <h2>Professional Self-Assessment</h2>
        <span class="badge">Start here</span>
      </div>
      <div class="card">
        <p><strong>About Me:</strong> My name is <strong>Brentley Thomason</strong>, and I am a Solutions Architect specializing in <em>full-stack application development, computational graphics, and real-time rendering with OpenGL</em>. Throughout the Computer Science program at Southern New Hampshire University, I developed a versatile technical skill set and a security-conscious approach to software design. This ePortfolio represents the culmination of that growth, focused through a single OpenGL visualization project.</p>

        <p><strong>Breadth & Focus:</strong> This capstone refined my project across three categories: <em>software design & engineering</em> (refactor + ImGui interface), <em>algorithms & data structures</em> (quadtree spatial partitioning), and <em>data persistence</em> (JSON-backed scene state for debugging). Together, these enhancements turned a tightly coupled renderer into a modular, performant, and debuggable application.</p>

        <p><strong>Teamwork & Communication:</strong> While this project was primarily individual, I drew on collaborative habits from prior coursework and professional work—translating low-level graphics details into clear rationale for stakeholders and documenting trade-offs for future maintainers.</p>

        <p><strong>Security Mindset:</strong> I validated user-controlled parameters exposed in ImGui, ensured safe file I/O for JSON (guarding paths and using atomic writes), and kept serialization off the render loop to avoid unstable states. I reduced global state to narrow the surface for unintended behavior.</p>

        <p><strong>Success Story:</strong> The ImGui overlay accelerated iteration (live toggles, stats, camera controls). A quadtree reduced per-frame work on dense scenes by culling objects outside relevant regions. JSON persistence made debugging repeatable—capturing and reloading scenes to reproduce issues quickly. Combined, these changes improved developer velocity and runtime performance.</p>

        <p><strong>How to Read This Site:</strong> The sections below link to the OpenGL repository and provide narratives for each enhancement. A code review video summarizes the existing functionality, analysis, and planned work mapped to the course outcomes.</p>
      </div>
    </div>
  </section>

  <!-- ===== ARTIFACTS ===== -->
  <section id="artifacts">
    <div class="container">
      <div class="section-title">
        <h2>Artifacts & Enhancements</h2>
        <div class="filters" aria-label="Filter artifacts by category">
          <button class="chip active" data-filter="all">All</button>
          <button class="chip" data-filter="sde">Software Design</button>
          <button class="chip" data-filter="algos">Algorithms</button>
          <button class="chip" data-filter="db">Data Persistence</button>
        </div>
      </div>

      <div class="artifacts">
        <!-- Artifact 1: SDE -->
        <article class="artifact card" data-tags="sde">
          <div>
            <div class="row">
              <span class="badge">Software Design & Engineering</span>
              <span class="badge">ImGui + Refactor</span>
            </div>
            <h3>OpenGL Visualization • ImGui Interface & Refactor</h3>
            <p class="muted">
              Introduced an in-engine <span class="kbd">ImGui</span> interface (stats, camera, render toggles) and refactored the codebase into
              <span class="kbd">Renderer</span>, <span class="kbd">InputManager</span>, and <span class="kbd">SceneManager</span> to improve clarity and extensibility.
            </p>
            <div class="links">
              <a class="btn secondary" href="https://github.com/thomasonbd2/OpenGL-Project" target="_blank" rel="noopener">Repository</a>
              <a class="btn" href="https://github.com/thomasonbd2/OpenGL-Project" target="_blank" rel="noopener">Enhanced Build</a>
              <a class="btn secondary" href="#sde-narrative">Narrative</a>
            </div>
          </div>
          <div class="thumb-wrap">
            <a class="thumb" href="assets/BaseSS.png" data-title="SDE — ImGui overlay + refactor: base scene view">
              <img src="assets/BaseSS.png" alt="OpenGL scene with ImGui overlay and refactored architecture" loading="lazy" />
              <span class="caption">Open image</span>
            </a>
          </div>
        </article>

        <!-- Artifact 2: Algorithms -->
        <article class="artifact card" data-tags="algos">
          <div>
            <div class="row">
              <span class="badge">Algorithms & Data Structures</span>
              <span class="badge">Optimization</span>
            </div>
            <h3>Scene Optimization • Quadtree Spatial Partitioning</h3>
            <p class="muted">
              Implemented a quadtree for spatial partitioning to accelerate culling and intersection checks; tunable depth and bucket sizes
              reduce per-frame work on dense scenes.
            </p>
            <div class="links">
              <a class="btn secondary" href="https://github.com/thomasonbd2/OpenGL-Project" target="_blank" rel="noopener">Repository</a>
              <a class="btn" href="https://github.com/thomasonbd2/OpenGL-Project" target="_blank" rel="noopener">Enhanced Build</a>
              <a class="btn secondary" href="#algos-narrative">Narrative</a>
            </div>
          </div>
          <div class="thumb-wrap">
            <a class="thumb" href="assets/WireframeSS.png" data-title="Algorithms — Quadtree / wireframe debug view">
              <img src="assets/WireframeSS.png" alt="Wireframe view used to visualize quadtree spatial partitioning" loading="lazy" />
              <span class="caption">Open image</span>
            </a>
          </div>
        </article>

        <!-- Artifact 3: Data Persistence (JSON) -->
        <article class="artifact card" data-tags="db">
          <div>
            <div class="row">
              <span class="badge">Data Persistence</span>
              <span class="badge">Debugging</span>
            </div>
            <h3>Debugging & Persistence • JSON-Backed Scene State</h3>
            <p class="muted">
              Connected an on-disk JSON store to reliably save/load scene configurations for debugging and demos.
              Added schema versioning, safe file I/O, and kept serialization off the render loop for stability.
            </p>
            <div class="links">
              <a class="btn secondary" href="https://github.com/thomasonbd2/OpenGL-Project" target="_blank" rel="noopener">Repository</a>
              <a class="btn" href="https://github.com/thomasonbd2/OpenGL-Project" target="_blank" rel="noopener">Enhanced Build</a>
              <a class="btn secondary" href="#db-narrative">Narrative</a>
            </div>
          </div>
          <div class="thumb-wrap">
            <a class="thumb" href="assets/ZoomedSS.png" data-title="JSON persistence — reproducible scene states for debugging">
              <img src="assets/ZoomedSS.png" alt="Zoomed scene demonstrating camera and JSON-based persistence workflow" loading="lazy" />
              <span class="caption">Open image</span>
            </a>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- ===== CODE REVIEW ===== -->
  <section id="code-review">
    <div class="container">
      <div class="section-title">
        <h2>Informal Code Review</h2>
        <span class="badge">Video walkthrough</span>
      </div>
      <div class="card">
        <div style="position:relative; padding-bottom:56.25%; height:0; overflow:hidden; border-radius:12px; border:1px solid rgba(255,255,255,.1);">
          <iframe title="Code Review Video"
                  src="https://www.youtube.com/embed/dO8BrhI3yAA"
                  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen
                  style="position:absolute; top:0; left:0; width:100%; height:100%; border:0;"></iframe>
        </div>
        <div class="muted" style="margin-top:.75rem;">
          This walkthrough covers the existing functionality and the enhancement plan: adding an in-engine ImGui interface and refactor,
          implementing quadtree spatial partitioning, and wiring JSON-backed scene persistence for reproducible debugging—mapped to the course outcomes.
        </div>
      </div>
    </div>
  </section>

  <!-- ===== NARRATIVES ===== -->
  <section id="narratives">
    <div class="container">
      <div class="section-title">
        <h2>Artifact Narratives</h2>
        <span class="badge">Details</span>
      </div>

      <div id="sde-narrative" class="card" style="margin-bottom:1rem;">
        <h3>Software Design & Engineering — ImGui Interface + Refactor</h3>
        <p class="muted"><strong>When:</strong> CS-330 (original), enhanced in CS-499 (Summer 2025).</p>
        <ul>
          <li><strong>Why selected:</strong> Shows architectural improvements and developer-experience gains via live tooling.</li>
          <li><strong>Core enhancements:</strong> Added <span class="kbd">ImGui</span> overlay (stats, camera controls, render toggles); refactored into <span class="kbd">Renderer</span>, <span class="kbd">InputManager</span>, <span class="kbd">SceneManager</span>; reduced global state.</li>
          <li><strong>What I learned:</strong> Managing GL state across modules; designing clear ownership of resources; building UI tooling that doesn’t impact frame timing.</li>
          <li><strong>Feedback applied:</strong> UI clarity and naming improvements from peer review; separated debug widgets from core render path.</li>
          <li><strong>Outcomes:</strong> Communication, design trade-offs, innovative techniques, security mindset (reduced risk via modularity and validation).</li>
        </ul>
      </div>

      <div id="algos-narrative" class="card" style="margin-bottom:1rem;">
        <h3>Algorithms & Data Structures — Quadtree Spatial Partitioning</h3>
        <p class="muted"><strong>When:</strong> Enhanced in CS-499 (Summer 2025).</p>
        <ul>
          <li><strong>Why selected:</strong> Demonstrates measurable efficiency in the render loop.</li>
          <li><strong>Core enhancements:</strong> Quadtree with tunable max depth and bucket size; bounding-box tests; optional debug overlay for validation.</li>
          <li><strong>What I learned:</strong> Balancing tree maintenance cost vs. culling wins; visual diagnostics; thresholds for varying scene densities.</li>
          <li><strong>Feedback applied:</strong> Performance testing guidance from peers; tuned bucket sizes for consistency.</li>
          <li><strong>Outcomes:</strong> Design trade-offs, innovative techniques, professional communication.</li>
        </ul>
      </div>

      <div id="db-narrative" class="card">
        <h3>Data Persistence — JSON-Backed Scene State</h3>
        <p class="muted"><strong>When:</strong> Enhanced in CS-499 (Summer 2025).</p>
        <ul>
          <li><strong>Why selected:</strong> Enables reproducible debugging and demos by saving/loading exact scene configurations.</li>
          <li><strong>Core enhancements:</strong> JSON serialization/deserialization for scene objects and camera; schema version field; safe file I/O with atomic writes; kept I/O off the render loop.</li>
          <li><strong>What I learned:</strong> Designing a stable schema for evolving features; preventing path traversal; handling partial/invalid files gracefully.</li>
          <li><strong>Feedback applied:</strong> Added pretty-print for code review readability; basic JSON validation and error messaging.</li>
          <li><strong>Outcomes:</strong> Security mindset (input validation, safe I/O), innovative techniques, professional communication.</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- ===== MILESTONES ===== -->
  <section id="milestones">
    <div class="container">
      <div class="section-title">
        <h2>Milestones & Deliverables</h2>
        <span class="badge">Timeline</span>
      </div>
      <div class="card timeline">
        <div class="tl-item">
          <h3>Milestone 1 — Code Review</h3>
          <p class="muted">Walkthrough of existing code and enhancement plan. Audience: peers/manager.</p>
        </div>
        <div class="tl-item">
          <h3>Milestone 2 — Enhancement 1: Software Design & Engineering</h3>
          <p class="muted">ImGui interface + refactor; tests and documentation on trade-offs.</p>
        </div>
        <div class="tl-item">
          <h3>Milestone 3 — Enhancement 2: Algorithms & Data Structures</h3>
          <p class="muted">Quadtree optimization; debug overlay; benchmarks.</p>
        </div>
        <div class="tl-item">
          <h3>Milestone 4 — Enhancement 3: Data Persistence</h3>
          <p class="muted">JSON save/load; schema versioning; safe I/O; error handling.</p>
        </div>
        <div class="tl-item">
          <h3>Final — GitHub Pages ePortfolio</h3>
          <p class="muted">Polished, accessible site with artifacts, narratives, and self-assessment.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== CONTACT ===== -->
  <section id="contact">
    <div class="container">
      <div class="section-title">
        <h2>Contact</h2>
        <span class="badge">Let’s talk</span>
      </div>
      <div class="card">
        <p class="muted">Have questions about my work or want to collaborate? Reach out.</p>
        <div class="row">
          <a class="btn" href="mailto:brentley.thomason@snhu.edu">Email Me</a>
          <a class="btn secondary" href="https://www.linkedin.com/in/brentley-thomason" target="_blank" rel="noopener">LinkedIn</a>
          <a class="btn secondary" href="https://github.com/thomasonbd2" target="_blank" rel="noopener">GitHub</a>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container footer-grid">
      <div>© <span id="year"></span> Brentley Thomason • SNHU CS 499</div>
      <div style="text-align:right;">
        <span class="muted">Built with semantic HTML & CSS • Accessible, responsive, and lightweight.</span>
      </div>
    </div>
  </footer>

  <!-- Lightbox container -->
  <div id="lightbox" aria-hidden="true">
    <div class="content">
      <button class="lb-close" aria-label="Close image (Esc)">✕</button>
      <img id="lb-img" src="" alt="">
      <div class="lb-caption" id="lb-cap"></div>
    </div>
  </div>

  <script>
    // Persisted theme toggle (dark by default)
    const root = document.documentElement;
    const toggleBtn = document.getElementById('themeToggle');
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'light') root.classList.add('light');
    toggleBtn.textContent = root.classList.contains('light') ? '☀️' : '🌙';
    toggleBtn.setAttribute('aria-pressed', root.classList.contains('light'));
    toggleBtn.addEventListener('click', () => {
      root.classList.toggle('light');
      const isLight = root.classList.contains('light');
      localStorage.setItem('theme', isLight ? 'light' : 'dark');
      toggleBtn.textContent = isLight ? '☀️' : '🌙';
      toggleBtn.setAttribute('aria-pressed', isLight);
    });

    // Year in footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // Active link highlight
    const links = Array.from(document.querySelectorAll('header nav a'));
    const sections = links.map(a => document.querySelector(a.getAttribute('href')));
    const onScroll = () => {
      const y = window.scrollY + 120;
      let idx = 0;
      sections.forEach((sec, i) => { if (sec && sec.offsetTop <= y) idx = i; });
      links.forEach((a,i)=> a.classList.toggle('active', i === idx));
    };
    document.addEventListener('scroll', onScroll, { passive: true });
    onScroll();

    // Artifact filtering
    const chips = document.querySelectorAll('.filters .chip');
    const cards = document.querySelectorAll('.artifact');
    chips.forEach(chip => chip.addEventListener('click', () => {
      chips.forEach(c => c.classList.remove('active'));
      chip.classList.add('active');
      const tag = chip.dataset.filter;
      cards.forEach(card => {
        const tags = card.dataset.tags.split(',');
        const show = tag === 'all' || tags.includes(tag);
        card.style.display = show ? '' : 'none';
      });
    }));
  </script>

  <!-- Lightbox JS -->
  <script>
    (() => {
      const lb = document.getElementById('lightbox');
      const lbImg = document.getElementById('lb-img');
      const lbCap = document.getElementById('lb-cap');
      const closeBtn = lb.querySelector('.lb-close');

      const openLB = (href, title, alt) => {
        lbImg.src = href;
        lbImg.alt = alt || title || 'Image preview';
        lbCap.textContent = title || '';
        lb.classList.add('open');
        lb.setAttribute('aria-hidden', 'false');
        document.documentElement.style.overflow = 'hidden';
        closeBtn.focus();
      };

      const closeLB = () => {
        lb.classList.remove('open');
        lb.setAttribute('aria-hidden', 'true');
        lbImg.src = '';
        document.documentElement.style.overflow = '';
      };

      document.addEventListener('click', (e) => {
        const a = e.target.closest('a.thumb');
        if (a) {
          e.preventDefault();
          openLB(a.getAttribute('href'), a.dataset.title, a.querySelector('img')?.alt);
        }
        if (e.target === lb) closeLB();
      });

      closeBtn.addEventListener('click', closeLB);
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && lb.classList.contains('open')) closeLB();
      });
    })();
  </script>
</body>
</html>
